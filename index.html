<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Portal de Certificados en Línea</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta http-equiv="X-UA-Compatible" content="IE=9">
    <meta http-equiv="X-UA-Compatible" content="edge">

    <link href="https://static.mineduc.cl/img/favicon.ico" type="image/x-icon" rel="shortcut icon">
    <link media="screen, projection" href="https://static.mineduc.cl/css/style.css" type="text/css" rel="stylesheet">
    <link type="text/css" href="https://certificados.mineduc.cl/certificados-web/locals/css/font-fix.css" rel="stylesheet" media="screen, projection">
    <link type="text/css" href="https://certificados.mineduc.cl/certificados-web/locals/css/override.css" rel="stylesheet" media="screen, projection">
    <link media="screen, projection" rel="stylesheet" href="https://static.mineduc.cl/css/mineduc-theme/jquery-ui-1.10.3.custom.css" type="text/css">
    
    <style>
        /* Estilos para tu formulario */
        .captcha-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
        }
        .captcha-box {
            padding: 30px;
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.05);
            width: 100%;
        }
        .container_mid {
            width: 800px;
            margin: 0 auto;
        }
        .captcha-box label {
            display: block;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: left;
            color: #333;
            font-size: 1.1em;
        }
        .captcha-box input[type="text"] {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box; 
        }
        .captcha-box button {
            width: 100%;
            padding: 12px;
            background-color: #0d6efd;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .captcha-box button:hover {
            background-color: #0b5ed7;
        }
        
        /* Contenedores de Vistas */
        #formulario-vista {
            display: block; /* Muestra el formulario por defecto */
        }
        #resultado-vista {
            display: none; /* Oculta el resultado por defecto */
            margin-top: 20px;
        }

        /* Estilos del Recuadro Verde (Éxito) */
        .msg-exito {
            padding: 20px;
            background-color: #e6f7ec; /* Fondo verde claro */
            border: 1px solid #b7e1c7; /* Borde verde */
            color: #0f5132; /* Texto verde oscuro */
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 1.1em;
        }
        .msg-exito p {
            margin: 5px 0;
        }

        /* Estilos del Recuadro Error */
        .error {
            display: block !important;
            background-color: #f8d7da;
            border: 1px solid #f5c2c7;
            color: #842029;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }

        /* Estilos del Visor de PDF */
        #pdf-visor {
            margin-top: 20px;
            height: 600px; /* Altura fija para el visor */
            width: 100%;
            border: 1px solid #ccc;
            background-color: #404040; /* Fondo oscuro como en la imagen */
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: white;
            font-family: sans-serif;
            font-size: 1.2em;
        }
        #pdf-visor a {
            padding: 10px 30px;
            background-color: #5bc0de; /* Azul claro para el botón Abrir */
            color: white;
            border-radius: 5px;
            text-decoration: none;
            margin-top: 15px;
            font-weight: bold;
        }
        
        .volver-portal-btn {
            display: block;
            width: 250px;
            margin: 20px auto 0 auto;
            padding: 12px;
            background-color: #0d6efd;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            transition: background-color 0.3s ease;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <div id="page">
            <a name="top"></a>
            <div id="top">
                <div class="wrapped">
                    <h1 class="logo med"><a href="#">Portal de Certificados en Línea</a></h1>
                </div>
            </div>
            <div class="header med">
                <div class="title med">
                    <h1><strong><span class="blueLight">Ayuda</span><span class="redBold">mineduc</span>&nbsp;-&nbsp;<span class="blueLight">Portal de Certificados en Línea</span></strong></h1>
                </div>
            </div>
            <div id="navegacion">
                <div id="breadcrumb" class="cf">
                    Ud. está en: » <a href="#">Portal de Certificados en Línea&nbsp;</a>»&nbsp;<a href="#" onclick="mostrarVista('formulario-vista')">Inicio </a> »<a href="#">&nbsp;Validar Certificado</a>
                </div>
            </div>
            
            <div class="tab_content rounded-top rounded-bottom">
                <div id="content" class="cf">
                    <div class="content">
                        <br>
                        <h2 style="margin-left: 48px;"><span class="blueNormal">Validación de Certificado</span></h2>
                        
                        <div id="formulario-vista">
                            <div class="msg informa rounded-top rounded-bottom gob size_15 line_21">
                                <p><strong>Estimado Usuario: </strong>Ingrese el folio o código del certificado para validar su autenticidad.</p>
                            </div>
                            
                            <div class="container_mid cf captcha-wrapper">
                                <div class="captcha-box">
                                    <label for="codigoInput">Folio del Certificado:</label>
                                    <input type="text" id="codigoInput" placeholder="Ingrese el código aquí">
                                    
                                    <button type="button" onclick="verificarCodigo()">Validar Certificado</button>
                                    
                                    <div id="resultado-error" style="display: none;"></div>
                                </div>
                            </div>
                        </div>

                        <div id="resultado-vista">
                            <div class="container_mid">
                                <div class="msg-exito">
                                    <p>El Ministerio de Educación confirma que el certificado en consulta es un documento **válido y vigente**.</p>
                                    <p>Ver más información</p>
                                </div>
                            </div>

                            <div class="container_mid">
                                <p style="margin-bottom: 5px; font-weight: bold;">Verifique que el certificado presentado contenga la misma información que el documento que se muestra a continuación.</p>
                                
                                <div id="pdf-visor">
                                    <p>PDF</p>
                                    <p>getPdf</p>
                                    <a id="pdf-link" href="#" target="_blank">Abrir</a>
                                </div>

                                <a href="#" class="volver-portal-btn" onclick="mostrarVista('formulario-vista')">
                                    <i class="icon-home icon-white"></i> Volver al Portal
                                </a>
                            </div>

                        </div>
                        </div>
                </div>
            </div>
        </div>
        
        <div id="footer">
            <div id="container">
                <div id="bottommenu">
                    <div class="block-right">
                        <span class="footer_plain_text"> Ministerio de Educación - Teléfono +56 2 24066000 - Dirección Av. Libertador Bernardo O'Higgins 1371
                            <br>
                            <a class="btns" href="http://validator.w3.org/check?uri=referer">XHTML 1.0</a> | <a class="btns" href="#">CSS 3.0</a> | <a class="btns">Versión 1.37.0</a> 
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
    
        // --- INICIO DE TU BASE DE DATOS ACTUALIZADA ---
        // **IMPORTANTE**: Necesitas agregar la URL del PDF real.
        const misCertificados = [
    {
        folio: "NS1234",
        nombre: "Juan Alberto Pérez González",
        curso: "Curso de HTML Básico",
        fecha: "2024-01-15",
        pdf_url: "https://ejemplo.com/pdfs/certificado-juan.pdf" 
    },
    {
        folio: "CERT-999",
        nombre: "María Isabel López Silva",
        curso: "Curso de JavaScript Avanzado",
        fecha: "2024-02-20",
        pdf_url: "https://ejemplo.com/pdfs/certificado-maria.pdf" 
    },
    {
        folio: "ABC-789",
        nombre: "Pedro Morales Araya",
        curso: "Gestión de Proyectos",
        fecha: "2024-03-10",
        pdf_url: "https://ejemplo.com/pdfs/certificado-pedro.pdf"
    },
    
    // ESTA ES LA NUEVA ENTRADA DE DANIELA ROZAS
    {
        folio: "18796366-8",
        nombre: "DANIELA KATHERINE ROZAS GONZÁLEZ",
        curso: "LICENCIA DE EDUCACIÓN MEDIA HUMANÍSTICO CIENTÍFICA",
        fecha: "2025-11-04",
        // URL DIRECTA DE TU REPOSITORIO DE GITHUB
        pdf_url: "https://udlaverificacion.github.io/Validaciondecertificados/danielarozas.pdf" 
    }
];

        // --- FIN DE TU BASE DE DATOS ---

        // Función para cambiar entre la vista de formulario y la de resultado
        function mostrarVista(vistaId) {
            document.getElementById('formulario-vista').style.display = 'none';
            document.getElementById('resultado-vista').style.display = 'none';
            document.getElementById(vistaId).style.display = 'block';
            document.getElementById('resultado-error').style.display = 'none'; // Limpia errores al cambiar
        }

        // Función principal de validación
        function verificarCodigo() {
            let inputUsuario = document.getElementById("codigoInput").value;
            let mensajeErrorDiv = document.getElementById("resultado-error");

            // Limpiamos espacios y convertimos a mayúsculas para comparar
            let folioBuscado = inputUsuario.trim().toUpperCase();
            
            mensajeErrorDiv.style.display = 'none'; // Oculta errores anteriores

            // 1. Revisar si el campo está vacío
            if (folioBuscado === "") {
                mensajeErrorDiv.innerHTML = "<strong>Código no válido.</strong><br/>Por favor, ingrese un folio.";
                mensajeErrorDiv.className = "error";
                mensajeErrorDiv.style.display = 'block';
                return; // Detiene la función
            }

            // 2. Buscar el folio
            let certificadoEncontrado = misCertificados.find(
                (certificado) => certificado.folio.toUpperCase() === folioBuscado
            );

            // 3. Mostrar el resultado
            if (certificadoEncontrado) {
                // Éxito: Configuramos el enlace y cambiamos a la vista de resultado
                document.getElementById("pdf-link").href = certificadoEncontrado.pdf_url;
                
                // Si quieres que el botón Volver al Portal te lleve a otro lado,
                // cambia la URL en el atributo href del botón 'volver-portal-btn'
                
                mostrarVista('resultado-vista');
            } else {
                // Error: Mostramos el mensaje de error
                mensajeErrorDiv.innerHTML = "<strong>Código no válido.</strong><br/>El código ingresado no se encontró o no es correcto.";
                mensajeErrorDiv.className = "error";
                mensajeErrorDiv.style.display = 'block';
            }
        }

        // Inicializar la vista al cargar
        document.addEventListener('DOMContentLoaded', () => {
             mostrarVista('formulario-vista');
        });
    </script>
</body>
</html>

